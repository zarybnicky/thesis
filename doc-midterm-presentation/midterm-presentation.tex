% Created 2019-01-28 Mon 00:11
% Intended LaTeX compiler: pdflatex
\documentclass[presentation]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage{minted}
\usepackage{tikzsymbols}
\usetheme{Madrid}
\author{Jakub Zárybnický}
\date{2019-01-29}
\title{A Haskell Platform for Creating Progressive Web Applications}
\subtitle{A midterm progress report}
\title[PWAs in Haskell]{A Haskell Platform for Creating Progressive Web Applications}
\hypersetup{
 pdfauthor={Jakub Zárybnický},
 pdftitle={A Haskell Platform for Creating Progressive Web Applications},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 26.1 (Org mode 9.1.9)}, 
 pdflang={English}}
\begin{document}

\maketitle
\begin{frame}{Outline}
\tableofcontents
\end{frame}


\section{What, why?}
\label{sec:org5ab6d18}
\begin{frame}[label={sec:org1b7f0af}]{Assignment}
\begin{itemize}
\item My task:
\begin{itemize}
\item \emph{"A Haskell Platform for Creating Progressive Web Applications"}
\end{itemize}
\end{itemize}

\pause

\begin{itemize}
\item What's a PWA?
\begin{itemize}
\item new buzzword from Google
\item an \emph{almost} native app
\begin{itemize}
\item load a website
\item save to phone homepage like an app
\item available offline, perhaps with data sync
\item use push notifications, device APIs
\end{itemize}
\end{itemize}
\end{itemize}

\pause

\begin{itemize}
\item What's a Haskell?
\begin{itemize}
\item purely functional programming language with type inference and lazy evaluation
\item \emph{"If it compiles, it works."}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[label={sec:orgf447b17}]{Motivation}
\begin{itemize}
\item The trend of FP on the frontend, motivated by Elm, PureScript
\item \uline{Sharing common code between the client and the server}
\item Rapidly growing area in the Haskell ecosystem, many companies involved, OSS
contributors:
\begin{itemize}
\item IOHK (Cardano) - iohk-ops, distributed processing
\item Obsidian - Reflex, Obelisk, Rhyolite
\item Tweag - Asterius, Inline-js
\item QFPL - Reflex-workshop, UI components
\end{itemize}
\item Growing, but still not established - missing tools and libraries
\item More immediate need - I have clients with projects that are waiting on this
thesis' results
\end{itemize}
\end{frame}

\section{What's done?}
\label{sec:orgeede75e}
\begin{frame}[label={sec:orgdf131b5}]{What have I been doing?}
\begin{itemize}
\item How have I been working?
\begin{itemize}
\item in part research, type and API design
\item in part extracting relevant parts from my existing Haskell applications
\end{itemize}
\end{itemize}

\pause

\begin{itemize}
\item What worked out?
\begin{itemize}
\item survey of web frameworks all around the programming world
\item survey of the Haskell ecosystem around web development
\item prototype of a full-stack application
\item prototype of a JAM-stack-alike
\item prototype of an offline-capable client application
\item prototype of a frontend debugger toolbar (quite limited so far)
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[label={sec:orge223630}]{What haven't I been doing?}
\pause

\begin{itemize}
\item What didn't work out?
\begin{itemize}
\item attempts at a blog with regular updates - a failure this far
\item a mile long to-do list and a backlog of ideas and research topics
\end{itemize}
\end{itemize}

\pause

\begin{itemize}
\item Non-goals:
\begin{itemize}
\item write the thesis itself
\item write publishable code
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[label={sec:org844ef77}]{Technologies}
The main ones:
\begin{itemize}
\item Haskell
\begin{itemize}
\item \emph{"Haskell is a purely functional programming language with type inference and
lazy evaluation."} -- Wikipedia
\item \emph{"If it compiles, it works."}
\end{itemize}
\item Nix
\begin{itemize}
\item \emph{"Nix package manager, a "purely functional" package and configuration
manager for computer systems"} -- Wikipedia
\item \emph{"Describe your end result, then magic happens"} \Smiley
\item Tools build on top:
\begin{itemize}
\item Nix = package manager
\item NixOS = operating system
\item NixOps = cloud deployment tool
\end{itemize}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[fragile,label={sec:orgaa94405}]{Haskell example (Servant)}
 \begin{minted}[]{haskell}
type HackageAPI =
  "users" :> Get '[JSON] [User] :<|>
  "user" :> Capture "login" Login :> Get '[JSON] User :<|>
  "packages" :> Get '[JSON] [Package]

getUsers :: Handler [User]
getUser :: Login -> Handler User
getPackages :: Handler [Package]

server :: Server HackageApi
server = getUsers :<|> getUser :<|> getPackages

getUsers :<|> getUser :<|> getPackages =
  client @HackageApi "http://hackage.haskell.org"
\end{minted}
\end{frame}

\begin{frame}[fragile,label={sec:orgc2c6ee1}]{NixOps example}
 \begin{minted}[]{nix}
{
  network.description = "Web server";

  webserver = { config, pkgs, ... }: {
    services.httpd.enable = true;
    services.httpd.adminAddr = "alice@example.org";
    services.httpd.documentRoot =
      "${pkgs.valgrind.doc}/share/doc/valgrind/html";
    networking.firewall.allowedTCPPorts = [ 80 ];

    deployment.targetEnv = "virtualbox";
  };
}
\end{minted}
\end{frame}

\section{What's next?}
\label{sec:org04f1493}
\begin{frame}[label={sec:orgb03d11a}]{Next tasks}
Wrapping up unfinished tasks:
\begin{itemize}
\item finish article drafts and publish them
\item finish extracting useful patterns from my applications
\end{itemize}

Starting work on new areas:
\begin{itemize}
\item ServiceWorker wrapper or template
\item push notifications
\item pre-rendering (build- or runtime)
\item CLI tool
\item type design for data channel/synchronization
\end{itemize}
\end{frame}

\begin{frame}[label={sec:orgd881de7}]{Finishing up}
\begin{itemize}
\item four more months until the publication deadline
\item tons of work left, mile-long lists of tasks and ideas
\item basics are well underway
\item many stretch goals
\end{itemize}
\end{frame}
\end{document}